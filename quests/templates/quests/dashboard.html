
{% extends 'quests/base.html' %}
{% load static %}
{% block content %}
<div class="main-container">
<div class="quest-card">
    <div class="header">Welcome, {{ user_profile.user.username }}!</div>
    <div>
        
        <div id="xp-bar-container">
            <div id="xp-bar" style="width: {{ xp_percent }}%;"></div>
            <strong><span class="level-badge" id="level">Current XP Percentage: {{ xp_percent }}%</span></strong>
        </div>
    </div>
    <h2>Your Quests</h2>
    <ul>
       <ul>
            {% for quest in quests %}
                <li class="quest-list-item">
                    <a class="quest-link" href="{% url 'quest_detail' quest.id %}">{{ quest.title }}</a>
                </li>
            {% endfor %}
        </ul>

    </ul>
     
    <h2>Your Badges</h2>
    <div>
       {% for badge in badges %}
        {% if badge.icon %}
            <img src="{{ badge.icon.url }}" alt="{{ badge.name }}" title="{{ badge.name }}" width="48" />
        {% elif badge.icon_url %}
            <img src="{{ badge.icon_url }}" alt="{{ badge.name }}" title="{{ badge.name }}" width="48" />
        
        {% endif %}
    {% empty %}
        {% if show_badge_message %}
            <span>No badges yet. Complete more quests! Add Badge</span>
        {% endif %}
{% endfor %}

    </div>
</div>
  
<ol>
    {% for quest in quests %}
        <li>
            <div class="quest-flex-row">
                <a class="quest-link" href="{% url 'quest_detail' quest.id %}">{{ quest.title }}</a>
                {% if user.is_staff %}
                    <form action="{% url 'delete_quest' quest.id %}" method="post" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="button-56" onclick="return confirm('Delete this quest?');">Delete</button>
                    </form>
                {% endif %}
            </div>
        </li>
    {% endfor %}
</ol>


{% endblock %}

