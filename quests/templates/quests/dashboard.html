
{% extends 'quests/base.html' %}
{% load static %}
{% block content %}
<div class="main-container">
<div class="quest-card">
    <div class="header">Welcome, {{ user_profile.user.username }}!</div>
    <div>
        <span class="level-badge" id="level">{{ user_profile.level }}</span>
        <div id="xp-bar-container">
            <div id="xp-bar" style="width: {{ user_profile.xp }}%;"></div>
        </div>
    </div>
    <h2>Your Quests</h2>
    <ul>
        {% for quest in quests %}
            <li><a href="{% url 'quest_detail' quest.id %}">{{ quest.title }}</a></li>
        {% endfor %}
    </ul>
      <div>
        <strong>Your XP:</strong> {{ user_profile.xp }}
    </div>
    <h2>Your Badges</h2>
    <div>
       {% for badge in badges %}
        {% if badge.icon %}
            <img src="{{ badge.icon.url }}" alt="{{ badge.name }}" title="{{ badge.name }}" width="48" />
        {% elif badge.icon_url %}
            <img src="{{ badge.icon_url }}" alt="{{ badge.name }}" title="{{ badge.name }}" width="48" />
        
        {% endif %}
    {% empty %}
        {% if show_badge_message %}
            <span>No badges yet. Complete more quests! Add Badge</span>
        {% endif %}
{% endfor %}

    </div>
</div>
  
<ul>
{% for quest in quests %}
    <li>
        <a href="{% url 'quest_detail' quest.id %}">{{ quest.title }}</a>
        {% if user.is_staff %}
            <form action="{% url 'delete_quest' quest.id %}" method="post" style="display:inline;">
                {% csrf_token %}
                <button type="submit" onclick="return confirm('Delete this quest?');">Delete</button>
            </form>
        {% endif %}
    </li>
{% endfor %}
</ul>


</div>
<div id="level-up">Level Up!</div>
<script src="{% static 'quests/main.js' %}"></script>
{% endblock %}

